"use strict";(globalThis.webpackChunktest=globalThis.webpackChunktest||[]).push([[305],{4650:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>p,frontMatter:()=>a,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"advanced-features","title":"Advanced Features","description":"GetObjectMapper Property","source":"@site/docs/advanced-features.md","sourceDirName":".","slug":"/advanced-features","permalink":"/Spinner/docs/advanced-features","draft":false,"unlisted":false,"editUrl":"https://github.com/Daniel-iel/Spinner/docs/advanced-features.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"Interceptors","permalink":"/Spinner/docs/mapping-string-into-type"},"next":{"title":"Migration Guide: v1.x to v2.0","permalink":"/Spinner/docs/migration-guide-v2"}}');var t=i(4848),s=i(8453);const a={sidebar_position:5},d="Advanced Features",o={},c=[{value:"GetObjectMapper Property",id:"getobjectmapper-property",level:2},{value:"ReadFromSpan Method",id:"readfromspan-method",level:2},{value:"Supported Data Types",id:"supported-data-types",level:2},{value:"Padding Configuration",id:"padding-configuration",level:2},{value:"Left Padding (Default)",id:"left-padding-default",level:3},{value:"Right Padding",id:"right-padding",level:3},{value:"Complete Example",id:"complete-example",level:3},{value:"Automatic Trimming",id:"automatic-trimming",level:2},{value:"String Truncation",id:"string-truncation",level:2},{value:"Performance Optimizations",id:"performance-optimizations",level:2},{value:"Thread Safety",id:"thread-safety",level:3},{value:"Best Practices",id:"best-practices",level:3}];function l(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"advanced-features",children:"Advanced Features"})}),"\n",(0,t.jsx)(n.h2,{id:"getobjectmapper-property",children:"GetObjectMapper Property"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"GetObjectMapper"})," property allows you to retrieve the ",(0,t.jsx)(n.code,{children:"ObjectMapperAttribute"})," configuration of your mapped type at runtime. This property returns ",(0,t.jsx)(n.code,{children:"null"})," if no ",(0,t.jsx)(n.code,{children:"ObjectMapperAttribute"})," is defined on the type."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:"[ObjectMapper(length: 50)]\npublic class Person\n{\n    [WriteProperty(length: 20, order: 1, paddingChar: ' ')]\n    public string Name { get; set; }\n    \n    [WriteProperty(length: 30, order: 2, paddingChar: ' ')]\n    public string Email { get; set; }\n}\n\nvar spinner = new Spinner<Person>();\nvar config = spinner.GetObjectMapper;\n\nif (config != null)\n{\n    Console.WriteLine($\"Total length configured: {config.Length}\");\n}\nelse\n{\n    Console.WriteLine(\"No ObjectMapper attribute defined\");\n}\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["If ",(0,t.jsx)(n.code,{children:"ObjectMapperAttribute"})," is not defined, Spinner will determine the output length based on the sum of all ",(0,t.jsx)(n.code,{children:"WriteProperty"})," lengths."]})}),"\n",(0,t.jsx)(n.h2,{id:"readfromspan-method",children:"ReadFromSpan Method"}),"\n",(0,t.jsxs)(n.p,{children:["For high-performance scenarios, you can use ",(0,t.jsx)(n.code,{children:"ReadFromSpan"})," to parse positional strings directly from a ",(0,t.jsx)(n.code,{children:"ReadOnlySpan<char>"}),", avoiding string allocations."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:'[ObjectMapper(length: 50)]\npublic class Person\n{\n    [ReadProperty(start: 0, length: 20)]\n    public string Name { get; set; }\n    \n    [ReadProperty(start: 20, length: 30)]\n    public string Email { get; set; }\n}\n\nvar spinner = new Spinner<Person>();\n\n// Using ReadOnlySpan<char> for better performance\nReadOnlySpan<char> data = "John Doe            john.doe@example.com      ".AsSpan();\nvar person = spinner.ReadFromSpan(data);\n'})}),"\n",(0,t.jsx)(n.admonition,{title:"Performance Benefit",type:"tip",children:(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"ReadFromSpan"})," is more efficient than ",(0,t.jsx)(n.code,{children:"ReadFromString"})," because it avoids creating intermediate string objects. Use it when processing large volumes of data or in performance-critical scenarios."]})}),"\n",(0,t.jsx)(n.h2,{id:"supported-data-types",children:"Supported Data Types"}),"\n",(0,t.jsx)(n.p,{children:"Spinner automatically handles conversion for the following types when reading from strings (no interceptor required):"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Numeric Types"}),": ",(0,t.jsx)(n.code,{children:"int"}),", ",(0,t.jsx)(n.code,{children:"long"}),", ",(0,t.jsx)(n.code,{children:"short"}),", ",(0,t.jsx)(n.code,{children:"ushort"}),", ",(0,t.jsx)(n.code,{children:"uint"}),", ",(0,t.jsx)(n.code,{children:"ulong"}),", ",(0,t.jsx)(n.code,{children:"byte"}),", ",(0,t.jsx)(n.code,{children:"sbyte"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Native Integers"}),": ",(0,t.jsx)(n.code,{children:"nint"}),", ",(0,t.jsx)(n.code,{children:"nuint"})," (platform-specific integer types)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Floating Point"}),": ",(0,t.jsx)(n.code,{children:"float"}),", ",(0,t.jsx)(n.code,{children:"double"}),", ",(0,t.jsx)(n.code,{children:"decimal"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Date/Time"}),": ",(0,t.jsx)(n.code,{children:"DateTime"}),", ",(0,t.jsx)(n.code,{children:"TimeSpan"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Other"}),": ",(0,t.jsx)(n.code,{children:"string"}),", ",(0,t.jsx)(n.code,{children:"char"}),", ",(0,t.jsx)(n.code,{children:"bool"})]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:"[ObjectMapper(length: 100)]\npublic class DataRecord\n{\n    [ReadProperty(start: 0, length: 10)]\n    public int Id { get; set; }\n    \n    [ReadProperty(start: 10, length: 20)]\n    public decimal Amount { get; set; }\n    \n    [ReadProperty(start: 30, length: 20)]\n    public DateTime Date { get; set; }\n    \n    [ReadProperty(start: 50, length: 10)]\n    public bool IsActive { get; set; }\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"padding-configuration",children:"Padding Configuration"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"WritePropertyAttribute"})," supports two types of padding direction using the ",(0,t.jsx)(n.code,{children:"PaddingType"})," enum. Padding is applied when a value is shorter than the configured length."]}),"\n",(0,t.jsx)(n.h3,{id:"left-padding-default",children:"Left Padding (Default)"}),"\n",(0,t.jsxs)(n.p,{children:["Left padding adds characters to the ",(0,t.jsx)(n.strong,{children:"left side"})," of the value. This is commonly used for numeric codes or IDs."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:'using Spinner.Enums;\n\n[WriteProperty(length: 10, order: 1, paddingChar: \'0\', padding: PaddingType.Left)]\npublic string Code { get; set; }\n\n// Example: Code = "123" => Output: "0000000123"\n// Example: Code = "99" => Output: "0000000099"\n'})}),"\n",(0,t.jsx)(n.h3,{id:"right-padding",children:"Right Padding"}),"\n",(0,t.jsxs)(n.p,{children:["Right padding adds characters to the ",(0,t.jsx)(n.strong,{children:"right side"})," of the value. This is commonly used for text fields like names or descriptions."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:'using Spinner.Enums;\n\n[WriteProperty(length: 20, order: 1, paddingChar: \' \', padding: PaddingType.Right)]\npublic string Name { get; set; }\n\n// Example: Name = "John" => Output: "John                "\n// Example: Name = "Ana" => Output: "Ana                 "\n'})}),"\n",(0,t.jsx)(n.h3,{id:"complete-example",children:"Complete Example"}),"\n",(0,t.jsx)(n.p,{children:"Combining both left and right padding in a single class:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:'using Spinner.Enums;\n\n[ObjectMapper(length: 30)]\npublic class Product\n{\n    // Left padding with zeros for product code\n    [WriteProperty(length: 10, order: 1, paddingChar: \'0\', padding: PaddingType.Left)]\n    public string Code { get; set; }\n    \n    // Right padding with spaces for product name\n    [WriteProperty(length: 20, order: 2, paddingChar: \' \', padding: PaddingType.Right)]\n    public string Name { get; set; }\n}\n\n// Usage\nvar product = new Product { Code = "123", Name = "Widget" };\nvar spinner = new Spinner<Product>();\nvar result = spinner.WriteAsString(product);\n\n// Output: "0000000123Widget              "\n//          \u2514\u2500 10 chars\u2500\u2518\u2514\u2500\u2500\u2500\u2500 20 chars \u2500\u2500\u2500\u2500\u2518\n'})}),"\n",(0,t.jsx)(n.admonition,{title:"Default Behavior",type:"info",children:(0,t.jsxs)(n.p,{children:["If the ",(0,t.jsx)(n.code,{children:"padding"})," parameter is omitted, ",(0,t.jsx)(n.code,{children:"PaddingType.Left"})," is used by default."]})}),"\n",(0,t.jsx)(n.h2,{id:"automatic-trimming",children:"Automatic Trimming"}),"\n",(0,t.jsx)(n.p,{children:"When reading from strings, Spinner automatically trims whitespace from the extracted values. This ensures clean data without manual processing."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:'[ReadProperty(start: 0, length: 20)]\npublic string Name { get; set; }\n\n// Input: "  John Doe         "\n// Result: Name = "John Doe" (whitespace trimmed)\n'})}),"\n",(0,t.jsx)(n.h2,{id:"string-truncation",children:"String Truncation"}),"\n",(0,t.jsx)(n.p,{children:"If a property value exceeds the configured length during writing, it will be automatically truncated to fit the specified size."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:'[WriteProperty(length: 10, order: 1, paddingChar: \' \')]\npublic string Name { get; set; }\n\nvar obj = new MyClass { Name = "VeryLongName" };\nvar spinner = new Spinner<MyClass>();\nvar result = spinner.WriteAsString(obj);\n// Output: "VeryLongNa" (truncated to 10 characters)\n'})}),"\n",(0,t.jsx)(n.admonition,{title:"Important",type:"warning",children:(0,t.jsx)(n.p,{children:"Always ensure your property values fit within the configured length to avoid data loss. Consider validating data before serialization."})}),"\n",(0,t.jsx)(n.h2,{id:"performance-optimizations",children:"Performance Optimizations"}),"\n",(0,t.jsx)(n.p,{children:"Spinner uses several optimizations for high-performance scenarios:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"ThreadStatic StringBuilder"}),": Reuses StringBuilder instances per thread to minimize allocations"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Span-based Processing"}),": Uses ",(0,t.jsx)(n.code,{children:"ReadOnlySpan<char>"})," for efficient string parsing"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Compiled Delegates"}),": Creates compiled delegates for property getters/setters instead of reflection"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Static Caching"}),": Caches type metadata during static initialization"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"thread-safety",children:"Thread Safety"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"Spinner<T>"})," is designed for safe concurrent use:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Static metadata"})," (property configurations, attributes) is cached once during type initialization"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"ThreadStatic StringBuilder"})," ensures each thread has its own buffer for write operations"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Multiple threads"})," can safely use the same ",(0,t.jsx)(n.code,{children:"Spinner<T>"})," instance simultaneously"]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{title:"Thread Safety",type:"tip",children:(0,t.jsxs)(n.p,{children:["You can safely reuse a single ",(0,t.jsx)(n.code,{children:"Spinner<T>"})," instance across multiple threads. Each thread will use its own StringBuilder buffer, preventing conflicts."]})}),"\n",(0,t.jsx)(n.h3,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Use ",(0,t.jsx)(n.code,{children:"WriteAsSpan"})," and ",(0,t.jsx)(n.code,{children:"ReadFromSpan"})," for high-throughput scenarios"]}),"\n",(0,t.jsxs)(n.li,{children:["Configure ",(0,t.jsx)(n.code,{children:"ObjectMapper.Length"})," to match your exact needs"]}),"\n",(0,t.jsxs)(n.li,{children:["Reuse ",(0,t.jsx)(n.code,{children:"Spinner<T>"})," instances across threads for better memory efficiency"]}),"\n",(0,t.jsx)(n.li,{children:"In multi-threaded scenarios, create one instance per type and share it"}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>d});var r=i(6540);const t={},s=r.createContext(t);function a(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);